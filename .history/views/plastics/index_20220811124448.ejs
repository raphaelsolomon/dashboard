<%- include('../includes/index_header.ejs') %>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/Microsoft/PowerBI-JavaScript/master/dist/powerbi.min.js" type="text/javascript"></script>

    <!-- STATISTIC-->
    <section class="statistic statistic2">
        <div class="container" id="ContainerData">
            <!-- <div class="row">
                <div id="Container" style="overflow:hidden; width: 100%; height: 373;">
                    <iframe width="100%" height="373.5"
                        src="https://app.powerbi.com/view?r=eyJrIjoiNzg4ZmY2NzMtMDEwMi00Mjk5LTk1YWItYmMwNzY2ZDQ0YWZjIiwidCI6ImZkZGFmMWJiLTVkMjQtNDk3Ni1iNzMxLTBlYjFhMzFlN2I2YyJ9"
                        frameborder="0" allowFullScreen="false"></iframe>
                </div>
            </div> -->
        </div>
    </section>
    <!-- END STATISTIC-->

    <!-- STATISTIC CHART-->
    <section class="statistic-chart">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="title-5 m-b-35">Analysis</h3>
                </div>
            </div>
            <div class="row">

                <div id="Container" style="overflow:hidden; width: 100%; height: 373;">
                    <iframe width="100%" height="373.5"
                        src="https://app.powerbi.com/view?r=eyJrIjoiOTJkZDY0MzUtODEwYy00MzFmLWE5ODYtNDc4NjE5YTY0NmVmIiwidCI6ImZkZGFmMWJiLTVkMjQtNDk3Ni1iNzMxLTBlYjFhMzFlN2I2YyJ9"
                        frameborder="0" allowFullScreen="false"></iframe>
                </div>

            </div>
        </div>
    </section>

    <!-- END STATISTIC CHART-->

    <center>
        <a href="/chart">
            <button class="au-btn au-btn-icon au-btn--green au-btn--small"> more analysis</button>
        </a>
    </center>

    <!-- DATA TABLE-->
    <section class="p-t-20">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="title-5 m-b-35">data table</h3>
                    <div class="table-data__tool">
                        <div class="table-data__tool-left">
                            <div class="rs-select2--light rs-select2--md">
                                <select class="js-select2" name="property" onchange="myFunctionC(this.selectedIndex);">
                                    <option selected="all">All</option>
                                    <option value="retrieved_from">PLASTICS RETRIEVED FROM</option>
                                    <option value="size">PLASTIC SIZE</option>
                                    <option value="tonnage">TONNAGE</option>
                                    <option value="product">PRODUCT</option>
                                    <option value="volume">VOLUME OF PLASTICS (PCS)</option>
                                    <option value="initial">INITIAL CONTENT</option>
                                    <option value="manufactures">MANUFACTURERS</option>

                                </select>
                                <div class="dropDownSelect2"></div>
                            </div>
                            <div class="rs-select2--light rs-select2--sm">
                                <input style="padding: 7px;" type="date" name="dateFilter" id="dateFilter">
                            </div> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;



                            <button class="au-btn-filter" id="filterBtn" onclick="myClickFunction();"><i
                                    class="zmdi zmdi-filter-list"></i>filters</button>
                        </div>
                        <div class="table-data__tool-right">
                            <a href="/add"><button class="au-btn au-btn-icon au-btn--green au-btn--small">
                                    <i class="zmdi zmdi-plus"></i>add plastic</button></a>
                            <div class="rs-select2--dark rs-select2--sm rs-select2--dark2">
                                <select class="js-select2" name="type" onchange="myFunctionExport(this.selectedIndex);">
                                    <option selected="selected">Export</option>
                                    <option value="csv">CSV</option>
                                </select>
                                <div class="dropDownSelect2"></div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive table-responsive-data2">
                        <table class="table table-data2" id="allFilter">
                            <thead>
                                <tr>
                                    <th>Plastics Retrieved From</th>
                                    <th>Date</th>
                                    <th>Plastic Size</th>
                                    <th>Tonnage</th>
                                    <th>Product</th>
                                    <th>Volume of plastics (pcs)</th>
                                    <th>Initial Content</th>
                                    <th>Manufacturers</th>
                                    <th>ACTION</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% data.tableLimit.forEach(function(e) { %>
                                    <tr class="tr-shadow">
                                        <td>
                                            <%= e.retrieved_from %>
                                        </td>
                                        <td>
                                            <%= e.date %>
                                        </td>
                                        <td>
                                            <%= e.plastic_size %>
                                        </td>
                                        <td>
                                            <%= e.tonnage %>
                                        </td>
                                        <td>
                                            <%= e.product %>
                                        </td>
                                        <td>
                                            <%= e.volume_of_plastics %>
                                        </td>
                                        <td>
                                            <%= e.initial_content %>
                                        </td>
                                        <td>
                                            <%= e.manufacturer %>
                                        </td>

                                        <td>
                                            <div class="table-data-feature ">

                                                <a href='/details/<%= e.id %>'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/<%= e.id %>'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="spacer"></tr>
                                    <% }); %>
                            </tbody>
                        </table>
                        <table class="table table-data2" id="retrieved_from">
                            <thead id="retrieved_from_hearder">
                                <tr>
                                    <th id="headerName">Plastics Retrieved From</th>
                                    <th>Date</th>
                                    <th>ACTION</th>
                                </tr>
                            </thead>
                            <tbody id="retrieved_from_body">
                                <tr class="tr-shadow"></tr>
                                <tr class="spacer"></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- END DATA TABLE-->
    <script>
        document.getElementById("allFilter").style.visibility = "visible";
        document.getElementById("retrieved_from").style.visibility = "collapse";
        var selected = '';

        function myFunction(value) {
            selected = value;
        }

        function myFunctionExport(selected) {
            window.location = '/recent/2';
        }

        function myClickFunction() {
            var inputDate = document.getElementById("dateFilter").value
            // const [year, month, day] = inputDate.split("/");
            // const dateChange = `${year}-${month}-${day}`;
        

            const list = ['all', 'retrieved_from', 'plastic_size', 'tonnage', 'product', 'volume_of_plastics', 'initial_content', 'manufacturer'];

            if (list[selected] === 'all') {
                document.getElementById("allFilter").style.visibility = "visible";
                document.getElementById("retrieved_from").style.visibility = "collapse";

            } else if (list[selected] === 'retrieved_from') {
                
                
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Plastics Retrieved From';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));

                $("#retrieved_from_body").empty();
                newList.forEach((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.retrieved_from;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }else if (list[selected] === 'plastic_size') {
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Plastics Size';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));
                $("#retrieved_from_body").empty();
                newList.map((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.plastic_size;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }else if (list[selected] === 'tonnage') {
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Tonnage';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));
                $("#retrieved_from_body").empty();
                newList.map((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.tonnage;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }else if (list[selected] === 'product') {
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Product';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));
                $("#retrieved_from_body").empty();
                newList.map((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.product;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }else if (list[selected] === 'volume_of_plastics') {
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Volume of Plastic';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));
                $("#retrieved_from_body").empty();
                newList.map((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.volume_of_plastics;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }else if (list[selected] === 'initial_content') {
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Initial content';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));
                $("#retrieved_from_body").empty();
                newList.map((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.initial_content;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }else if (list[selected] === 'manufacturer') {
                const table = document.getElementById("retrieved_from_body");
                document.getElementById("retrieved_from").style.visibility = "visible";
                document.getElementById("allFilter").style.visibility = "collapse";
                document.getElementById("headerName").innerText = 'Manufactures';

                var tablist = <%- JSON.stringify(data.tableLimit) %>;
                var newList = tablist.filter((element) => element.date.includes(inputDate));
                $("#retrieved_from_body").empty();
                newList.map((element) => {
                    let row = table.insertRow();
                    let retrieved_from = row.insertCell(0);
                    retrieved_from.innerHTML = element.manufacturer;
                    let date = row.insertCell(1);
                    date.innerHTML = element.date;
                    let action = row.insertCell(2);
                    action.innerHTML = `<div class="table-data-feature ">

                                                <a href='/details/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Edit ">
                                                        <i class="zmdi zmdi-edit "></i>
                                                    </button></a>
                                                <a href='/delete/${element.id}'><button class="item "
                                                        data-toggle="tooltip " data-placement="top " title="Delete ">
                                                        <i class="zmdi zmdi-delete "></i>
                                                    </button></a>

                                            </div>`;
                })
            }

        }


   
        var getEmbeddedToken = `H4sIAAAAAAAEACWWta7FDJKE3-VPvZKZVprAzMwnMzOzR_vue0eTtjqqrv6q_v2Pnb7DnBb__O8_kuQT-L4mKzsT3-TkHhrQOuKKiG3gRUh-HUL-AApuKzEQ4iTkVwPVht3lhZZaZt
5e3jPXpr7Zys8iY7U-IDsrpyGlRGI1xtvnrj2lfrMnhfDPxWNkFl1Myd1F8bTMSSr3d7lalDBmAtg1KWN3ztjCewDBmOizxfUMeBFE-At2x3BIdGWP3cge9hSGm7TTbdV-XsohhxmL_hOyad-rY0ntjJJO8xIr9M
elLU7BCdeCTYuOLUkTcOPNBkii3IPji6HjOQFGnetP6DFX3g_1Tu-NEZs7i6nGrkstGIJYlmPkCxyUwfYECnVAf_bTnaYC4DAisgSkfPyruWF0vGwbBeq3FT4CbzuSU1qPuI0t7-HLQPTIEWLwG5HyTGG4B3BVfU
d81-jeikqShCa7M1ajF_H3BYj4ONneqhDdHT8onwex8UQ89NiYspaKFU5wHBY4nz2guojIM9tDqQUF5khlu1gfKfWoM-D8m8SVWkeuHQ1y0k45bV2mf9vnJPQ0Ls6JA-r6TnMf3LIgnJIFQZKxBH6VNw7RkU6Smp
8afaR2rC5P6Qq_AgXLIwk81EsYlpp-FcwedKB2EcZ5xuJK_kXA6FAoAeW9zUPXW8sW3EJ-ZkbVXHTHRC_VEnp8Bg7vnpyeSWPWDLwzW7rUhbi4OkdMVwLqr3jPKWNluQOSLe6xtwxf0ypb1pRQgQ-KIEMVe7XBz2
73REKy4gd_vsGyK5qBK6ZHwS92Xo7E7rlnWoZupeVTQdPI6YlYfSlkRAmlYHz0PmTEIzD1NhCtEyWcSXGLeRrl8L8BzEkPpc7phm_b-FSnsgqwOgdLlIqsZMIiw10BmL05HElyxrUKZJZhRU5Z1eAyKMjCYp_tdI
zT9jTAcKssqz2m_KtRyv0ygo8R3SPikX5rlL8zO8-FgYdZVtwk5mG_C1xFu5NEmHHhSn1S1zOc7MouTgO41nGvJM-q6MRz6HCcbXmBvBqWt5LS24Y0Tv_5d4NCeJno9QDdn7-C7yuGRg5QupgKAOAopY-b1N1cMe
N8vDn3lYKPhf_hE2k19KBpvdGvdxkgdKIK2tAmPvIkFZINJHfpqtS8xqi8rfrrLqSBK2yylbrdCd2iRvO1tFB3i1lPnrk5191DyBIgVp0b2zV2bB2NgJs2-yg_Cgg1RiHa1AHyXdmabJW_Gzi3stIU_JiwPv_sY6
ZmQdKNPWl4rMtsgqtV19qfm5bdAI3nr8NVCyIP1W8pmjjGls3CKOSo4yLhSpsDckGgUXoxeHrWu4ygv5WI1mNWOOzTOx9q0iF-rOB4f_XV9MZkwnK23evBcpQ9RZ3tx81NGc9cvDPWi7lqhzeIYULbwanfE-eBdZ
BOJ96rZs9KNDI75LbadoArk7UztiruAWteW_Y9VIIKOQTu726D7Tn6kr1ci3azXsEnFfxBbWT3E_R7wMrt0UFcCp6hf-MS572cWgMAUVKpcFqKmUIBVjJS1KatphRgU4q4fPU15whHw-meZEGAg3M15VM4qLCu54
27NmMCfUVf6NqDrel7vUi-xquoucL3SbUrY0kK1pYL306pYcnuPqhlt8swh4pr4bXCNGhMVTugih_uhRRZzx6h2VHQvdJk_Cmks_FnpGRodkbCbIFbL3c01T30OeTMQ8IGlJEKx0N9Q5pzrZjs1PE-Wxf-FhUG12
T9hzG2wvwoddvyVaZrIpaCI3V3ptsPxeUZ9aVZ3vLf1f8Pb8NIt9biQHl1jUgvM91qz75XRtHjlup0K65VVJXNvUZ0HmciCRe1pCmgiDPQhLu0mdAUNfMBgjOFguzpsK1TQto2seWnqh1BbGh4AMiyZy0ICk1dyI
w4T0vywjzo--Mfx1YdeRKmCQZuxQPl8EweuHSfsYPSVVQ67EIKUQctpe6vM5T5KHWCNEITzub9EAZ6nmWV1OM3lmgUDidwdawdSU53n3qF3CfsH3apfDGvR2Bj_L5Cvl_tyUb7jrvjQzZKYkZdPUGLemWbX1lkSN
OazSM7bV6kNBiOc0bfjbEX568wAZPmKM5Spg0S5tJvGDRSTxIAn4lhyrcCBZtlUeW4TbppfqrWpaFHU_g0TtaKEqdyA0KHqu9aha7skqOBAiXZzA6GFUYXXGRX3AUgq3Bh33PmnPd9fPAxoGggsLu2vWFPyzPCeh
X1R6TOSwBR0V9cLdfZ2QmVlWUzdt-f9kD-MV7GH8vC7uYWrkRFVkPBAMVhYTaQMwAS94PE93WCkj59pyxeQqdEiXutkJ2A7T6qQJKB-0IwvnKt3uHPXt43cjKzv6zFpKvF351j6BOUjg1ziCZwVS2dmcFRWu_3LC
aK8Urqr2T0MObgTCrBEvr0s4FwyVULqJnonoJzEBNXXX2cFEPLd6KDPUb0MmgKJlWgHK2NZR3Em4PvMiVtRkCirs1qRJcSlhnNrIiizNsdmOubSG-aeMqFYq2VWAtiCTFIaw0Gt0XH-wql_JQZZhUOyC6rzn5R3U
AV81eztuvVqnAqghf0ftMks5VxleD3QUZCnp_onEwSf-FFMhcBFVRdWFNhwLsxvrRAV-IFP83eIXHkhLsKC_grmJoAIyz-m5shM9w-bxOQbQDmjGV7mZM-C1JY3nHnX_653-4bZ3OWatfP9q4qU6xHBivA7Nlx
oUXuJiAhsEYnbDwuk_A1XJJ0eyLBFflYT_8Uf6dR_QJvtTskNVBS3j_7CGJNN9--wlZJTMN_jSPP8y1XKeGA7q31ZDKO0o3g63-QyOQatCO4Ak153-dZvssLv20WEf7uCLE1WmGNzweEbZcNmW-cKiCb0uARvoov
ABZWzEjky5Rx4BtaHn98cdYy7h6o8KKS9MIcvf0o9k8tn9lkNuTDGhmkweKwoIBWwrgc_rtIKDhaQbqMffRrnHPUvJVer-TXji8BUxiEBbeDhWtTyzzbaCeOdisxOCgI2zKzk7P0oTii0gaJrxM7FeYh2KNWjfyv
m-vEzVu3O8rv8r87s05aaEfyofERJ2Kve64oyK0fdMtwRT_z2G19ZTepxb-bc2yO4dBoStRwAUTlBlaRWK7IT41t_m6EeENYEVB2sIEsf0IbwFqfMNwn9-faDil5FtV_qqUBsMdUsq-MedsSuP-dAditc8Ki5qqU
eb38YGOXy63F8AkVU78tIhOcs1gCnHDUnLqyBy0z2yI_ux9MLy94OQ_-OxaJ_iOmXBAkfPmicVVdLkvBRtEOqqqt1n_COYAqNcmytVkQFzKUq0knSRRFRvgWaI-FWeTLsbvzBvk8SKzeKWGMTRCZnp8AKz3uVYl3
jluROOJoz4Tq3Zmok_hfcK9nA4yGa1WuHwRwX4N_mPnyaJHNT3ZuOU-NoAgwZ6z4-mUaGN5D6dOYiy0yHODJk_mf_v_wGqrmekGg0AAA==.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLVNPVVRILUFGUklDQ
S1OT1JUSC1BLVBSSU1BUlktcmVkaXJlY3QuYW5hbHlzaXMud2luZG93cy5uZXQiLCJlbWJlZEZlYXR1cmVzIjp7Im1vZGVybkVtYmVkIjpmYWxzZX19`;
        var embedUrl = 'https://app.powerbi.com/reportEmbed?reportId=7b374319-f147-4151-84a5-1c2159a27a4a&groupId=ed1f7cf b-2a15-4edc-b69c-dad4fc94e823';
        var embededReportID = '7b374319-f147-4151-84a5-1c2159a27a4a';
        
                var models = window['powerbi-client'].models;
                var embeddedConfiguration = {
                    type: 'report',
                    id: embededReportID,
                    embedUrl: embedUrl,
                    tokenType: models.TokenType.Aad,
                    accessToken: getEmbeddedToken,
                    Permissions: models.Permissions.All,
                    settings: {
                        panes: {
                            filters: {
                                visible: false
                            }, 
                            pageNavigation: {
                                visible: false
                            }
                        }
                    }
                };

                var $reportContainer = $('#ContainerData')[0];
                var report = powerbi.embed($reportContainer, embeddedConfiguration)
    
    </script>
    <%- include('../includes/index_footer.ejs') %>